
{{>header_admin}}
 
<div class="create-container">
<div class=" container">
      <div class="row">
    <div class="col s12 push-l3">
      <ul class="tabs ">
        <li class="tab col s3"><a href="#addproduct">THÊM TÀI KHOẢN</a></li>
        <li class="tab col s3"><a class="active" href="#listproduct">QUẢN LÝ TÀI KHOẢN</a></li>
      
      </ul>
    </div>
    <div id="addproduct" class="">
      <div class="paper_container z-depth-1">

    <form class="col s12" action="/account/storeAccount" method="POST" autocomplete="off">
            <h4 class="center">Nhập thông tin</h4>
            <div class="row">
              <div class="mb-6">
                <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300" for="email">Email*</label>
                <input id="email" type="email" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" name="email" required="required" />
                <span class="helper-text" data-error="Email is invalid!" data-success=""></span>
              </div>
              <div class="input-field col s10 m10 push-l1">
                <label for="firstName" class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300">Họ</label>
                <input id="firstName" type="text" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" name="firstName" />
                <span class="helper-text" data-error="This field is required!" data-success=""></span>
              </div>
               <div class="input-field col s10 m10 push-l1">
                  <label for="lastName" class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300">Tên*</label>
                <input id="lastName" type="text" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" name="lastName" required="required" />
                <label for="lastName" class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300">Tên*</label>
                <span class="helper-text" data-error="This field is required!" data-success=""></span>
              </div>
              <div class="input-field col s10 m10 push-l1">
                <div class=""><label for="">Giới tính*</label>
                  <label>
                    <input name="gender" type="radio" value="1" checked />
                    <span>Nam</span>
                  </label>
                  <label>
                    <input name="gender" type="radio" value="2" />
                    <span>Nữ</span>
                  </label>
                </div>
              </div>
              <div class="input-field col s10 m10 push-l1">
                <label for="birthday" class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300">Số điện thoại</label>
                <input id="phoneNumber" type="text" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" name="phoneNumber" required="required" />
                
                <span class="helper-text" data-error="This field is required!" data-success=""></span>
              </div>
              <div class="input-field col s10 m10 push-l1">
                <label for="address" class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300">Địa chỉ</label>
                <input id="address" type="text" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" name="address" />
                
                <span class="helper-text" data-error="This field is required!" data-success=""></span>
              </div>
              <div class="input-field col s10 m10 push-l1">
                <label for="password" class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300">Mật khẩu*</label>
                <input id="password" type="password" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" name="password" required="required" minlength="6"
                  autocomplete="new-password">
                
                <span class="helper-text" data-error="Invalid password, minimum length: 8" data-success=""></span>
              </div>
              <div class="input-field col s10 m10 push-l1">
                <label for="confirm-password" class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300">Nhập lại mật khẩu*</label>
                <input id="confirm-password" type="password" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" required="required">
                
                <span class="helper-text" data-error="Those passwords didn't match. Try again." data-success=""></span>
              </div>
              <div class="input-field col s10 m10 push-l1">
                <div class=""><label for="">Loại tài khoản*</label>
                  <label>
                    <input name="roleID" type="radio" value="1" checked />
                    <span>Admin</span>
                  </label>
                  <label>
                    <input name="roleID" type="radio" value="2" />
                    <span>Bác sĩ</span>
                  </label>
                  <label>
                    <input name="roleID" type="radio" value="3" />
                    <span>Người dùng</span>
                  </label>
                </div>
              </div>
            </div>


             <div class="row">
               <div class="input-field col s10 m10 push-l1 mr-bottom">
                <button class=" btn waves-effect waves-light btnCreate" type="submit">Tạo
            <i class="material-icons right createIcon">send</i>
                 </button>
               </div>
      </div>
          </form>
      </div>

    </div>
    <div id="listproduct" class=""><br>
      <div class="paper_container z-depth-1">

     <a href="/account/trash" data-target="" class="sidenav-trigger btn-floating pulse cyan">
     <i class="material-icons">delete</i>
    </a>
           <h7 class="">({{counts}})</h7>
       {{>search}} 
      <table class="centered responsive-table right highlight">
        <thead>
          <tr>           
            <th>No</th>   
            <th>Email</th>
            <th>Họ Tên</th>  
            <th>Giới tính</th>  
            <th>Số điện thoại</th>  
            <th>Địa chỉ</th>  
            <th>Loại tài khoản</th>  
            <th>Trạng thái</th>  
            <th></th>
            <th></th>
          </tr>
        </thead>
        <tbody id="myTable">
              {{#each accounts}}
            <tr>
                <td>{{sum @index}}</td>
                <td>{{{this.email}}}</td>
                <td>{{{this.firstName}}} {{{this.lastName}}} </td>
                <td>{{{convertGender this.gender}}} </td>
                <td>{{{this.phoneNumber}}}</td>
                <td>{{{this.address}}}</td>
                <td class="">{{{ accType this.roleID}}}</td>
                <td class="{{{ btnStatus this.status}}}">{{{ status this.status}}}</td>
                <td>   
                <td>   
                  <a data-position="top" data-tooltip="Status" href="/account/{{{this.status}}}/{{{this.id}}}" class="{{btnStatus this.account_status}} tooltipped btn btn-small   blue-grey "><i class="material-icons  ">{{btnStatus this.status}}</i></a>
                  <a data-position="top" data-tooltip="Update" href="/account/{{{this.id}}}" class="btn btn-small tooltipped  yellow darken-3 button-radius "><i class="material-icons">system_update_alt</i></a>

                <!-- Modal Trigger -->
                <a data-position="top" data-tooltip="Delete" data-id="{{{this.id}}}" class=" tooltipped waves-effect waves-light btn modal-trigger btn_delete red  {{disabled this.roleID}}" href="#modal1"><i class="material-icons">delete</i></a>
                </td>
                </tr>
           
             {{else}}
                <tr>
                  <td colspan="6" class="center text-center">
                      Không có tài khoản
                  </td>
                </tr>
   
            {{/each}}   
        </tbody>
         </table> 
         
  <!-- Modal Trigger -->


  
  {{>pagination}}
 
          
      </div>

    </div>
   
  </div>

</div>
</div>
  <div id="modal1" class="modal">
    <div class="modal-content">
      <h4 class="center">Xóa tài khoản</h4>
      <p class="center">Bạn có muốn xóa tài khoản này không ?</p>
    </div>
    <div class="modal-footer">
      <a class="modal-close waves-effect waves-green btn-flat delete-agree text-darken-2 red-text">Xóa bỏ</a>
      <a class="modal-close waves-effect waves-green btn-flat  grey-text">Hủy</a>
    </div>
  </div>    
<script>
 $(document).ready(function(){
    $(".btn_delete").on("click", function(){
        var dataId = $(this).attr("data-id");
          $(".delete-agree").attr("href", "/account/delete/"+dataId); // Set herf value
    });
});
</script>

   <script>
      var password = document.getElementById("password")
      var confirm_password = document.getElementById("confirm_password");
function validatePassword(){
  if(password.value != confirm_password.value) {
    confirm_password.setCustomValidity("Passwords don't match");
  } else {
    confirm_password.setCustomValidity('');
  }
}

password.onchange = validatePassword;
confirm_password.onkeyup = validatePassword;
    </script>
   {{>footer_admin}}

