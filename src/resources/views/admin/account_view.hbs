
<div class="flex h-full">

  {{>header_admin}}
  
    <div class="container ml-2 w-full h-full mt-2">
      <div class="mb-4 border-b border-gray-200 w-full">
        <ul class="flex flex-wrap -mb-px text-sm font-medium text-center justify-center w-full" id="myTab" data-tabs-toggle="#myTabContent" role="tablist">
            <li class="mr-2" role="presentation">
                <button class="inline-block p-4 rounded-t-lg border-b-2 border-transparent hover:text-gray-600 hover:border-gray-300" id="account-management-tab" data-tabs-target="#account-management" type="button" role="tab" aria-controls="#account-management" aria-selected="false">Quản lý tài khoản</button>
            </li>
            <li class="mr-2" role="presentation">
                <button class="inline-block p-4 rounded-t-lg border-b-2" id="add-account-tab" data-tabs-target="#add-account" type="button" role="tab" aria-controls="#add-account" aria-selected="false">Thêm tài khoản</button>
            </li>
            
        </ul>
      </div>
      <div id="myTabContent">
        <div class="hidden p-4 bg-gray-50 rounded-lg max-h-[90vh] min-h-[90vh] overflow-y-scroll" id="account-management" role="tabpanel" aria-labelledby="account-management-tab">
          <div class="relative overflow-x-auto shadow-md sm:rounded-lg">
            <table class="w-full text-sm text-left text-gray-500 mt-4">
              <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                  <tr>
                      <th scope="col" class="px-6 py-3 font-bold">
                          No
                      </th>
                      <th scope="col" class="px-6 py-3 font-bold">
                          Email
                      </th>
                      <th scope="col" class="px-6 py-3 font-bold">
                          Họ Tên
                      </th>
                      <th scope="col" class="px-6 py-3 font-bold">
                          Giới tính
                      </th>
                      <th scope="col" class="px-6 py-3 font-bold">
                          Số điện thoại
                      </th>
                      <th scope="col" class="px-6 py-3 font-bold">
                          Địa chỉ
                      </th>
                      <th scope="col" class="px-6 py-3 font-bold">
                          Loại tài khoản
                      </th>
                      <th scope="col" class="px-6 py-3 font-bold">
                          Trạng thái
                      </th>
                      <th scope="col" class="px-6 py-3">
                          
                      </th>
                  </tr>
              </thead>
              <tbody>
                {{#each accounts}}
                  <tr class="bg-white border-b  hover:bg-gray-50 ">
                    <th scope="row" class="px-6 py-4 font-medium text-gray-900  whitespace-nowrap">
                        {{sum @index}}
                    </th>
                    <td class="px-6 py-4">
                        {{{this.email}}}
                    </td>
                    <td class="px-6 py-4">
                        {{{this.firstName}}} {{{this.lastName}}} 
                    </td>
                    <td class="px-6 py-4">
                        {{{convertGender this.gender}}} 
                    </td>
                    <td class="px-6 py-4">
                        {{{this.phoneNumber}}}
                    </td>
                    <td class="px-6 py-4">
                        {{{this.address}}}
                    </td>
                    <td class="px-6 py-4">
                        {{{ accType this.roleID}}}
                    </td>
                    <td class="px-6 py-4 {{{ btnStatus this.status}}}">
                        {{{ status this.status}}}
                    </td>
                    <td>
                      <a data-position="top" data-tooltip="Status" href="/account/{{{this.status}}}/{{{this.id}}}" class="{{btnStatus this.account_status}} tooltipped btn btn-small   blue-grey "><i class="material-icons  ">{{btnStatus this.status}}</i></a>
                      <a data-position="top" data-tooltip="Update" href="/account/{{{this.id}}}" class="btn btn-small tooltipped  yellow darken-3 button-radius "><i class="material-icons">system_update_alt</i></a>

                    <!-- Modal Trigger -->
                      <a data-position="top" data-tooltip="Delete" data-id="{{{this.id}}}" class=" tooltipped waves-effect waves-light btn modal-trigger btn_delete red  {{disabled this.roleID}}" href="#modal1"><i class="material-icons">delete</i></a>
                    </td>
                  </tr>
                  {{else}}
                    <tr>
                      <td colspan="6" class="center text-center">
                          Không có tài khoản
                      </td>
                    </tr>
                  {{/each}}  
              </tbody>
            </table>
            <div class="flex justify-end w-full mt-8">

              <nav aria-label="Page navigation">
                <ul class="inline-flex items-center -space-x-px">
                  <li>
                    <a href="#" class="block py-2 px-3 ml-0 leading-tight text-gray-500 bg-white rounded-l-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700 ">
                      <span class="sr-only">Previous</span>
                      <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>
                    </a>
                  </li>
                  <li>
                    <a href="#" class="py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 ">1</a>
                  </li>
                  <li>
                    <a href="#" class="py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 ">2</a>
                  </li>
                  <li>
                    <a href="#" aria-current="page" class="z-10 py-2 px-3 leading-tight text-blue-600 bg-blue-50 border border-blue-300 hover:bg-blue-100 hover:text-blue-700 ">3</a>
                  </li>
                  <li>
                    <a href="#" class="py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 ">4</a>
                  </li>
                  <li>
                    <a href="#" class="py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 ">5</a>
                  </li>
                  <li>
                    <a href="#" class="block py-2 px-3 leading-tight text-gray-500 bg-white rounded-r-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700 ">
                      <span class="sr-only">Next</span>
                      <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg>
                    </a>
                  </li>
                </ul>
              </nav>
            </div>
          </div>
        </div>
        <div class="hidden p-4 bg-gray-50 rounded-lg max-h-[90vh] min-h-[90vh] overflow-y-scroll" id="add-account" role="tabpanel" aria-labelledby="add-account-tab">
          <form class="" action="/account/storeAccount" method="POST" autocomplete="off">
            <div class="is-row">

              <div class="is-full">
                <label class="block mb-2 text-sm font-bold text-gray-900 " for="email">Email *</label>
                <input id="email" type="email" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 " name="email" required="required" />
                <span class="helper-text" data-error="Email is invalid!" data-success=""></span>
              </div>
              
            </div>
            <div class="is-row">
              <div class="input-field is-half">
                <label for="firstName" class="block mb-2 text-sm font-bold text-gray-900 ">Họ *</label>
                <input id="firstName" type="text" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 " name="firstName" />
                <span class="helper-text" data-error="This field is required!" data-success=""></span>
              </div>
              <div class="input-field ml-4 is-half">
                  <label for="lastName" class="block mb-2 text-sm font-bold text-gray-900 ">Tên *</label>
                <input id="lastName" type="text" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 " name="lastName" required="required" />
                <span class="helper-text" data-error="This field is required!" data-success=""></span>
              </div>
            </div>
            <div class="is-row flex items-center">
              <label class="block text-sm font-bold text-gray-900" for="">Giới tính *</label>
              <div class="flex ml-5">
                <div class="flex items-center mr-4">
                    <input id="male-radio" type="radio" value="1" name="gender" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500  focus:ring-2 " checked>
                    <label for="male-radio" class="ml-2 text-sm font-medium text-gray-900 ">Nam</label>
                </div>
                <div class="flex items-center mr-4">
                    <input id="female-radio" type="radio" value="2" name="gender" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500  focus:ring-2 ">
                    <label for="female-radio" class="ml-2 text-sm font-medium text-gray-900 ">Nữ</label>
                </div>
                
              </div>
            </div>
            <div class="is-row">
              <div class="input-field is-half">
                <label for="birthday" class="block mb-2 text-sm font-bold text-gray-900 ">Số điện thoại</label>
                <input id="phoneNumber" type="text" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 " name="phoneNumber" required="required" />
                
                <span class="helper-text" data-error="This field is required!" data-success=""></span>
              </div>
              <div class="input-field is-half ml-4">
                <label for="address" class="block mb-2 text-sm font-bold text-gray-900">Địa chỉ</label>
                <input id="address" type="text" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 " name="address" />
                
                <span class="helper-text" data-error="This field is required!" data-success=""></span>
              </div>
            </div>
            <div class="is-row">
              <div class="input-field is-half">
                <label for="password" class="block mb-2 text-sm font-bold text-gray-900 ">Mật khẩu*</label>
                <input id="password" type="password" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 " name="password" required="required" minlength="6"
                  autocomplete="new-password">
                
                <span class="helper-text" data-error="Invalid password, minimum length: 8" data-success=""></span>
              </div>
              <div class="input-field is-half ml-4">
                <label for="confirm-password" class="block mb-2 text-sm font-bold text-gray-900 ">Nhập lại mật khẩu*</label>
                <input id="confirm-password" type="password" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 " required="required">
                
                <span class="helper-text" data-error="Those passwords didn't match. Try again." data-success=""></span>
              </div>
            </div>
            <div class="is-row flex items-center">
              <label class="block text-sm font-bold text-gray-900" for="">Loại tài khoản *</label>
              <div class="flex ml-5">
                <div class="flex items-center mr-4">
                    <input id="admin-radio" type="radio" value="1" name="roleID" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500  focus:ring-2 " checked>
                    <label for="admin-radio" class="ml-2 text-sm font-medium text-gray-900 ">Administrator</label>
                </div>
                <div class="flex items-center mr-4">
                    <input id="doctor-radio" type="radio" value="2" name="roleID" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500  focus:ring-2 ">
                    <label for="doctor-radio" class="ml-2 text-sm font-medium text-gray-900 ">Bác sĩ</label>
                </div>
                <div class="flex items-center mr-4">
                    <input id="user-radio" type="radio" value="3" name="roleID" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500  focus:ring-2 ">
                    <label for="user-radio" class="ml-2 text-sm font-medium text-gray-900 ">Người dùng</label>
                </div>
                
              </div>
            </div>
            <div class="is-row">
              <div class="input-field col s10 m10 push-l1 mr-bottom">
                <button class=" btn--primary waves-effect waves-light btnCreate" type="submit">Tạo
                </button>
              </div>
            </div>
          </form>
        </div>
          
        </div>
      </div>
    </div>
  </div>
</div>
  
  {{!-- <div class="create-container">
  
      <div id="listproduct" class=""><br>
        <div class="paper_container z-depth-1">

      <a href="/account/trash" data-target="" class="sidenav-trigger btn-floating pulse cyan">
      <i class="material-icons">delete</i>
      </a>
            <h7 class="">({{counts}})</h7>
        {{>search}} 
        <table class="centered responsive-table right highlight">
          <thead>
            <tr>           
              <th>No</th>   
              <th>Email</th>
              <th>Họ Tên</th>  
              <th>Giới tính</th>  
              <th>Số điện thoại</th>  
              <th>Địa chỉ</th>  
              <th>Loại tài khoản</th>  
              <th>Trạng thái</th>  
              <th></th>
              <th></th>
            </tr>
          </thead>
          <tbody id="myTable">
                {{#each accounts}}
              <tr>
                  <td>{{sum @index}}</td>
                  <td>{{{this.email}}}</td>
                  <td>{{{this.firstName}}} {{{this.lastName}}} </td>
                  <td>{{{convertGender this.gender}}} </td>
                  <td>{{{this.phoneNumber}}}</td>
                  <td>{{{this.address}}}</td>
                  <td class="">{{{ accType this.roleID}}}</td>
                  <td class="{{{ btnStatus this.status}}}">{{{ status this.status}}}</td>
                  <td>   
                  <td>   
                    <a data-position="top" data-tooltip="Status" href="/account/{{{this.status}}}/{{{this.id}}}" class="{{btnStatus this.account_status}} tooltipped btn btn-small   blue-grey "><i class="material-icons  ">{{btnStatus this.status}}</i></a>
                    <a data-position="top" data-tooltip="Update" href="/account/{{{this.id}}}" class="btn btn-small tooltipped  yellow darken-3 button-radius "><i class="material-icons">system_update_alt</i></a>

                  <!-- Modal Trigger -->
                  <a data-position="top" data-tooltip="Delete" data-id="{{{this.id}}}" class=" tooltipped waves-effect waves-light btn modal-trigger btn_delete red  {{disabled this.roleID}}" href="#modal1"><i class="material-icons">delete</i></a>
                  </td>
                  </tr>
            
              {{else}}
                  <tr>
                    <td colspan="6" class="center text-center">
                        Không có tài khoản
                    </td>
                  </tr>
    
              {{/each}}   
          </tbody>
          </table> 
          
    <!-- Modal Trigger -->


    
    {{>pagination}}
  
            
        </div>

      </div>
    
    </div>

  </div>
  </div>
    <div id="modal1" class="modal">
      <div class="modal-content">
        <h4 class="center">Xóa tài khoản</h4>
        <p class="center">Bạn có muốn xóa tài khoản này không ?</p>
      </div>
      <div class="modal-footer">
        <a class="modal-close waves-effect waves-green btn-flat delete-agree text-darken-2 red-text">Xóa bỏ</a>
        <a class="modal-close waves-effect waves-green btn-flat  grey-text">Hủy</a>
      </div>
    </div>    
  <script>
  $(document).ready(function(){
      $(".btn_delete").on("click", function(){
          var dataId = $(this).attr("data-id");
            $(".delete-agree").attr("href", "/account/delete/"+dataId); // Set herf value
      });
  });
  </script>

    <script>
        var password = document.getElementById("password")
        var confirm_password = document.getElementById("confirm_password");
  function validatePassword(){
    if(password.value != confirm_password.value) {
      confirm_password.setCustomValidity("Passwords don't match");
    } else {
      confirm_password.setCustomValidity('');
    }
  }

  password.onchange = validatePassword;
  confirm_password.onkeyup = validatePassword;
      </script>
    {{>footer_admin}} --}}

